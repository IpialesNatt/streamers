import {
  LeafletContext,
  createLeafletContext,
  require_leaflet_src
} from "./chunk-ROXKZ662.js";
import {
  __toESM,
  require_react
} from "./chunk-3ISELJEO.js";

// node_modules/react-leaflet/lib/MapContainer.js
var import_leaflet = __toESM(require_leaflet_src());
var import_react = __toESM(require_react());
function MapContainerComponent({ bounds, boundsOptions, center, children, className, id, placeholder, style, whenReady, zoom, ...options }, forwardedRef) {
  const [props] = (0, import_react.useState)({
    className,
    id,
    style
  });
  const [context, setContext] = (0, import_react.useState)(null);
  const mapInstanceRef = (0, import_react.useRef)(void 0);
  (0, import_react.useImperativeHandle)(forwardedRef, () => (context == null ? void 0 : context.map) ?? null, [
    context
  ]);
  const mapRef = (0, import_react.useCallback)((node) => {
    if (node !== null && !mapInstanceRef.current) {
      const map = new import_leaflet.Map(node, options);
      mapInstanceRef.current = map;
      if (center != null && zoom != null) {
        map.setView(center, zoom);
      } else if (bounds != null) {
        map.fitBounds(bounds, boundsOptions);
      }
      if (whenReady != null) {
        map.whenReady(whenReady);
      }
      setContext(createLeafletContext(map));
    }
  }, []);
  (0, import_react.useEffect)(() => {
    return () => {
      context == null ? void 0 : context.map.remove();
    };
  }, [
    context
  ]);
  const contents = context ? import_react.default.createElement(LeafletContext, {
    value: context
  }, children) : placeholder ?? null;
  return import_react.default.createElement("div", {
    ...props,
    ref: mapRef
  }, contents);
}
var MapContainer = (0, import_react.forwardRef)(MapContainerComponent);

export {
  MapContainer
};
//# sourceMappingURL=chunk-KAHVCNCO.js.map
